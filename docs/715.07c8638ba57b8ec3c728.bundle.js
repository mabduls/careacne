/*! For license information please see 715.07c8638ba57b8ec3c728.bundle.js.LICENSE.txt */
"use strict";(self.webpackChunkcareacne_capstopne_project=self.webpackChunkcareacne_capstopne_project||[]).push([[715],{715:(t,e,n)=>{n.r(e),n.d(e,{default:()=>L});var r=n(698),o=n(289);function a(t){return a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},a(t)}function i(){i=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},s="function"==typeof Symbol?Symbol:{},c=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var a=e&&e.prototype instanceof b?e:b,i=Object.create(a.prototype),s=new _(r||[]);return o(i,"_invoke",{value:T(t,n,s)}),i}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",v="suspendedYield",y="executing",g="completed",m={};function b(){}function w(){}function x(){}var S={};d(S,c,(function(){return this}));var k=Object.getPrototypeOf,L=k&&k(k(q([])));L&&L!==n&&r.call(L,c)&&(S=L);var E=x.prototype=b.prototype=Object.create(S);function P(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function n(o,i,s,c){var l=h(t[o],t,i);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==a(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,s,c)}),(function(t){n("throw",t,s,c)})):e.resolve(d).then((function(t){u.value=t,s(u)}),(function(t){return n("throw",t,s,c)}))}c(l.arg)}var i;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return i=i?i.then(o,o):o()}})}function T(e,n,r){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var l=h(e,n,r);if("normal"===l.type){if(o=r.done?g:v,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function C(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=h(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function q(e){if(e||""===e){var n=e[c];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,i=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return i.next=i}}throw new TypeError(a(e)+" is not iterable")}return w.prototype=x,o(E,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,u,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,d(t,u,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},P(j.prototype),d(j.prototype,l,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new j(f(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},P(E),d(E,u,"Generator"),d(E,c,(function(){return this})),d(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=q,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:q(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function s(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}n(652);var c=function(){return new Promise(function(){var t,e=(t=i().mark((function t(e){var n,r;return i().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,n=localStorage.getItem("userToken"),r=localStorage.getItem("userData"),!n||!r){t.next=10;break}return t.next=6,fetch("".concat(BASE_URL,"/api/auth/verify"),{method:"GET",headers:{Authorization:"Bearer ".concat(n)}});case 6:t.sent.ok?e(JSON.parse(r)):(localStorage.removeItem("userToken"),localStorage.removeItem("userData"),e(null)),t.next=11;break;case 10:e(null);case 11:t.next=17;break;case 13:t.prev=13,t.t0=t.catch(0),console.error("Auth initialization error:",t.t0),e(null);case 17:case"end":return t.stop()}}),t,null,[[0,13]])})),function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){s(a,r,o,i,c,"next",t)}function c(t){s(a,r,o,i,c,"throw",t)}i(void 0)}))});return function(t){return e.apply(this,arguments)}}())};function l(t){return l="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},l(t)}function u(){u=function(){return e};var t,e={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(t,e,n){t[e]=n.value},a="function"==typeof Symbol?Symbol:{},i=a.iterator||"@@iterator",s=a.asyncIterator||"@@asyncIterator",c=a.toStringTag||"@@toStringTag";function d(t,e,n){return Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{d({},"")}catch(t){d=function(t,e,n){return t[e]=n}}function f(t,e,n,r){var a=e&&e.prototype instanceof b?e:b,i=Object.create(a.prototype),s=new _(r||[]);return o(i,"_invoke",{value:T(t,n,s)}),i}function h(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}e.wrap=f;var p="suspendedStart",v="suspendedYield",y="executing",g="completed",m={};function b(){}function w(){}function x(){}var S={};d(S,i,(function(){return this}));var k=Object.getPrototypeOf,L=k&&k(k(q([])));L&&L!==n&&r.call(L,i)&&(S=L);var E=x.prototype=b.prototype=Object.create(S);function P(t){["next","throw","return"].forEach((function(e){d(t,e,(function(t){return this._invoke(e,t)}))}))}function j(t,e){function n(o,a,i,s){var c=h(t[o],t,a);if("throw"!==c.type){var u=c.arg,d=u.value;return d&&"object"==l(d)&&r.call(d,"__await")?e.resolve(d.__await).then((function(t){n("next",t,i,s)}),(function(t){n("throw",t,i,s)})):e.resolve(d).then((function(t){u.value=t,i(u)}),(function(t){return n("throw",t,i,s)}))}s(c.arg)}var a;o(this,"_invoke",{value:function(t,r){function o(){return new e((function(e,o){n(t,r,e,o)}))}return a=a?a.then(o,o):o()}})}function T(e,n,r){var o=p;return function(a,i){if(o===y)throw Error("Generator is already running");if(o===g){if("throw"===a)throw i;return{value:t,done:!0}}for(r.method=a,r.arg=i;;){var s=r.delegate;if(s){var c=C(s,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=y;var l=h(e,n,r);if("normal"===l.type){if(o=r.done?g:v,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function C(e,n){var r=n.method,o=e.iterator[r];if(o===t)return n.delegate=null,"throw"===r&&e.iterator.return&&(n.method="return",n.arg=t,C(e,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var a=h(o,e.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,m;var i=a.arg;return i?i.done?(n[e.resultName]=i.value,n.next=e.nextLoc,"return"!==n.method&&(n.method="next",n.arg=t),n.delegate=null,m):i:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function I(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function _(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(O,this),this.reset(!0)}function q(e){if(e||""===e){var n=e[i];if(n)return n.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var o=-1,a=function n(){for(;++o<e.length;)if(r.call(e,o))return n.value=e[o],n.done=!1,n;return n.value=t,n.done=!0,n};return a.next=a}}throw new TypeError(l(e)+" is not iterable")}return w.prototype=x,o(E,"constructor",{value:x,configurable:!0}),o(x,"constructor",{value:w,configurable:!0}),w.displayName=d(x,c,"GeneratorFunction"),e.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===w||"GeneratorFunction"===(e.displayName||e.name))},e.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,d(t,c,"GeneratorFunction")),t.prototype=Object.create(E),t},e.awrap=function(t){return{__await:t}},P(j.prototype),d(j.prototype,s,(function(){return this})),e.AsyncIterator=j,e.async=function(t,n,r,o,a){void 0===a&&(a=Promise);var i=new j(f(t,n,r,o),a);return e.isGeneratorFunction(n)?i:i.next().then((function(t){return t.done?t.value:i.next()}))},P(E),d(E,c,"Generator"),d(E,i,(function(){return this})),d(E,"toString",(function(){return"[object Generator]"})),e.keys=function(t){var e=Object(t),n=[];for(var r in e)n.push(r);return n.reverse(),function t(){for(;n.length;){var r=n.pop();if(r in e)return t.value=r,t.done=!1,t}return t.done=!0,t}},e.values=q,_.prototype={constructor:_,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=t,this.done=!1,this.delegate=null,this.method="next",this.arg=t,this.tryEntries.forEach(I),!e)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=t)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){if(this.done)throw e;var n=this;function o(r,o){return s.type="throw",s.arg=e,n.next=r,o&&(n.method="next",n.arg=t),!!o}for(var a=this.tryEntries.length-1;a>=0;--a){var i=this.tryEntries[a],s=i.completion;if("root"===i.tryLoc)return o("end");if(i.tryLoc<=this.prev){var c=r.call(i,"catchLoc"),l=r.call(i,"finallyLoc");if(c&&l){if(this.prev<i.catchLoc)return o(i.catchLoc,!0);if(this.prev<i.finallyLoc)return o(i.finallyLoc)}else if(c){if(this.prev<i.catchLoc)return o(i.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return o(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var a=o;break}}a&&("break"===t||"continue"===t)&&a.tryLoc<=e&&e<=a.finallyLoc&&(a=null);var i=a?a.completion:{};return i.type=t,i.arg=e,a?(this.method="next",this.next=a.finallyLoc,m):this.complete(i)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),m},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),I(n),m}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var o=r.arg;I(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(e,n,r){return this.delegate={iterator:q(e),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=t),m}},e}function d(t,e,n,r,o,a,i){try{var s=t[a](i),c=s.value}catch(t){return void n(t)}s.done?e(c):Promise.resolve(c).then(r,o)}function f(t){return function(){var e=this,n=arguments;return new Promise((function(r,o){var a=t.apply(e,n);function i(t){d(a,r,o,i,s,"next",t)}function s(t){d(a,r,o,i,s,"throw",t)}i(void 0)}))}}function h(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p(r.key),r)}}function p(t){var e=function(t){if("object"!=l(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=l(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==l(e)?e:e+""}const v=function(){return t=function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.view=e,c(),this.scans=[],this.currentPage=1,this.scansPerPage=6,this.currentFilter="all",this.currentSort="newest",this.userId=null,this.unsubscribeAuth=null,this.init=this.init.bind(this)},e=[{key:"init",value:(i=f(u().mark((function t(){return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,this.setupEventListeners(),t.next=4,this.initializeUser();case 4:return t.next=6,this.loadScanHistory();case 6:t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),console.error("Initialization error:",t.t0),this.showErrorState(t.t0.message);case 12:case"end":return t.stop()}}),t,this,[[0,8]])}))),function(){return i.apply(this,arguments)})},{key:"setupEventListeners",value:function(){var t,e,n=this,o=this.view.querySelector("#backButton");null==o||o.addEventListener("click",(function(){n.animateButtonClick(o),setTimeout((function(){return(0,r.navigateToUrl)("/dashboard")}),150)}));var a=this.view.querySelector("#startScanButton");null==a||a.addEventListener("click",(function(){n.animateButtonClick(a),setTimeout((function(){return(0,r.navigateToUrl)("/dashboard")}),150)}));var i=this.view.querySelector("#filterType");null==i||i.addEventListener("change",(function(t){n.currentFilter=t.target.value,n.animateFilterChange(),setTimeout((function(){return n.filterAndSortScans()}),200)}));var s=this.view.querySelector("#sortBy");null==s||s.addEventListener("change",(function(t){n.currentSort=t.target.value,n.animateFilterChange(),setTimeout((function(){return n.filterAndSortScans()}),200)})),null===(t=this.view.querySelector("#prevPageButton"))||void 0===t||t.addEventListener("click",(function(t){n.currentPage>1&&(n.animateButtonClick(t.target),n.currentPage--,n.animatePageTransition((function(){return n.renderScans()})))})),null===(e=this.view.querySelector("#nextPageButton"))||void 0===e||e.addEventListener("click",(function(t){var e=Math.ceil(n.filteredScans.length/n.scansPerPage);n.currentPage<e&&(n.animateButtonClick(t.target),n.currentPage++,n.animatePageTransition((function(){return n.renderScans()})))}))}},{key:"animateButtonClick",value:function(t){t.style.transform="scale(0.95)",setTimeout((function(){t.style.transform=""}),150)}},{key:"animateFilterChange",value:function(){var t=this.view.querySelector("#scanResultsGrid");t&&(t.style.opacity="0.5",t.style.transform="translateY(10px)")}},{key:"animatePageTransition",value:function(t){var e=this.view.querySelector("#scanResultsGrid");e?(e.style.opacity="0",e.style.transform="translateY(20px)",setTimeout((function(){t(),e.style.opacity="1",e.style.transform="translateY(0)"}),200)):t()}},{key:"resetGridAnimation",value:function(){var t=this.view.querySelector("#scanResultsGrid");t&&(t.style.opacity="1",t.style.transform="translateY(0)")}},{key:"initializeUser",value:(a=f(u().mark((function t(){var e,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!(e=JSON.parse(localStorage.getItem("userData")))){t.next=4;break}return this.userId=e.uid,t.abrupt("return");case 4:return t.next=6,c();case 6:if(!(n=t.sent)){t.next=10;break}return this.userId=n.uid,t.abrupt("return");case 10:throw new Error("User not authenticated");case 11:case"end":return t.stop()}}),t,this)}))),function(){return a.apply(this,arguments)})},{key:"loadScanHistory",value:(n=f(u().mark((function t(){var e,n;return u().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(t.prev=0,this.showLoadingState(),this.userId){t.next=4;break}throw new Error("User ID not available");case 4:return t.next=6,localStorage.getItem("userToken");case 6:return e=t.sent,console.log("Loading scans for user:",this.userId),t.next=10,o.A.getUserScans(this.userId,e);case 10:if(this.scans=t.sent,console.log("Loaded scans:",this.scans),0!==this.scans.length){t.next=15;break}return this.showEmptyState("No scan history yet. Start your first scan!"),t.abrupt("return");case 15:this.filterAndSortScans(),t.next=25;break;case 18:t.prev=18,t.t0=t.catch(0),console.error("Failed to load scan history:",t.t0),n=t.t0.message,t.t0.message.includes("permission-denied")?n="Access denied. Please login again.":t.t0.message.includes("failed-precondition")&&(n="Database configuration issue. Please contact support."),this.showErrorState(n),/auth|authenticated|permission|denied/i.test(t.t0.message)&&(localStorage.clear(),sessionStorage.clear(),setTimeout((function(){return(0,r.navigateToUrl)("/login")}),2e3));case 25:case"end":return t.stop()}}),t,this,[[0,18]])}))),function(){return n.apply(this,arguments)})},{key:"filterAndSortScans",value:function(){var t=this;Array.isArray(this.scans)||(console.error("Scans is not an array:",this.scans),this.scans=[]),this.filteredScans=this.scans.filter((function(e){return"all"===t.currentFilter||(e.dominantAcne||"").toLowerCase().includes(t.currentFilter.toLowerCase())})),this.filteredScans.sort((function(e,n){var r=new Date(e.timestamp||e.createdAt||0),o=new Date(n.timestamp||n.createdAt||0);switch(t.currentSort){case"newest":return o-r;case"oldest":return r-o;case"confidence":return(n.confidence||0)-(e.confidence||0);default:return 0}})),this.currentPage=1,setTimeout((function(){t.renderScans(),t.resetGridAnimation()}),100)}},{key:"renderScans",value:function(){var t=this,e=this.view.querySelector("#scanResultsGrid"),n=this.view.querySelector("#paginationControls"),o=this.view.querySelector("#pageInfo"),a=this.view.querySelector("#emptyState"),i=this.view.querySelector("#loadingIndicator");if(null==i||i.classList.add("hidden"),!this.filteredScans||0===this.filteredScans.length)return null==e||e.classList.add("hidden"),null==n||n.classList.add("hidden"),void this.showEmptyState("No scan results found for the selected filter.");null==a||a.classList.add("hidden"),null==e||e.classList.remove("hidden");var s=(this.currentPage-1)*this.scansPerPage,c=s+this.scansPerPage,l=this.filteredScans.slice(s,c),u=Math.ceil(this.filteredScans.length/this.scansPerPage);if(e.innerHTML=l.map((function(e){return t.createScanCard(e)})).join(""),this.filteredScans.length>this.scansPerPage){null==n||n.classList.remove("hidden"),o&&(o.textContent="Page ".concat(this.currentPage," of ").concat(u));var d=this.view.querySelector("#prevPageButton"),f=this.view.querySelector("#nextPageButton");d&&(d.disabled=1===this.currentPage),f&&(f.disabled=this.currentPage===u)}else null==n||n.classList.add("hidden");this.view.querySelectorAll(".scan-card").forEach((function(e,n){e.style.opacity="0",e.style.transform="translateY(20px)",setTimeout((function(){e.style.opacity="1",e.style.transform="translateY(0)"}),100*n),e.addEventListener("click",(function(n){t.animateCardClick(e);var o=e.dataset.scanId;o&&setTimeout((function(){return(0,r.navigateToUrl)("/result-detail?scanId=".concat(o))}),200)})),e.addEventListener("mouseenter",(function(){t.addHoverEffect(e)})),e.addEventListener("mouseleave",(function(){t.removeHoverEffect(e)}))}))}},{key:"animateCardClick",value:function(t){t.style.transform="translateY(-8px) scale(0.98)",setTimeout((function(){t.style.transform="translateY(-8px) scale(1.02)"}),100)}},{key:"addHoverEffect",value:function(t){var e=t.querySelector("img");e&&(e.style.transform="scale(1.05)");var n=t.querySelector(".date-badge");n&&(n.style.background="rgba(0, 0, 0, 0.8)")}},{key:"removeHoverEffect",value:function(t){var e=t.querySelector("img");e&&(e.style.transform="scale(1)");var n=t.querySelector(".date-badge");n&&(n.style.background="rgba(0, 0, 0, 0.5)")}},{key:"createScanCard",value:function(t){var e=new Date(t.timestamp||t.createdAt||Date.now()).toLocaleDateString("en-US",{month:"short",day:"numeric",year:"numeric"}),n=Math.round(100*(t.confidence||0)),r=n>=80?"bg-red-100 text-red-800":n>=60?"bg-orange-100 text-orange-800":"bg-green-100 text-green-800",o=[];return t.recommendations&&(Array.isArray(t.recommendations)?o=t.recommendations:t.recommendations.ingredients?o=t.recommendations.ingredients:t.recommendations.treatment&&(o=t.recommendations.treatment)),'\n        <div class="scan-card bg-white rounded-xl shadow-md overflow-hidden cursor-pointer" data-scan-id="'.concat(t.id||t.scanId,'">\n            <div class="relative h-40 bg-gray-100 overflow-hidden">\n                ').concat(t.image?'<img src="'.concat(t.image,'" alt="Scan result" class="w-full h-full object-cover transition-transform duration-300">'):'<div class="w-full h-full flex items-center justify-center bg-gray-200">\n                        <svg class="w-12 h-12 text-gray-400" fill="none" stroke="currentColor" viewBox="0 0 24 24">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 16l4.586-4.586a2 2 0 012.828 0L16 16m-2-2l1.586-1.586a2 2 0 012.828 0L20 14m-6-6h.01M6 20h12a2 2 0 002-2V6a2 2 0 00-2-2H6a2 2 0 00-2 2v12a2 2 0 002 2z"/>\n                        </svg>\n                    </div>','\n                <div class="absolute bottom-2 right-2 date-badge bg-black bg-opacity-50 text-white px-2 py-1 rounded text-xs">\n                    ').concat(e,'\n                </div>\n            </div>\n            <div class="p-4">\n                <div class="flex justify-between items-start mb-2">\n                    <h3 class="font-semibold text-teal-700">').concat(t.dominantAcne||"Acne Detection",'</h3>\n                    <span class="confidence-badge text-xs px-2 py-1 rounded-full ').concat(r,'">').concat(n,'%</span>\n                </div>\n                <div class="flex flex-wrap gap-1 mt-2">\n                    ').concat(o.slice(0,3).map((function(t,e){return'\n                        <span class="recommendation-tag text-xs px-2 py-1 bg-blue-100 text-blue-800 rounded-full" style="animation-delay: '.concat(.1*e,'s">\n                            ').concat("string"==typeof t?t:t.name||"Item","\n                        </span>\n                    ")})).join(""),"\n                </div>\n            </div>\n        </div>")}},{key:"showLoadingState",value:function(){var t,e,n,r,o,a={scanResultsGrid:this.view.querySelector("#scanResultsGrid"),paginationControls:this.view.querySelector("#paginationControls"),emptyState:this.view.querySelector("#emptyState"),loadingIndicator:this.view.querySelector("#loadingIndicator")};null===(t=a.scanResultsGrid)||void 0===t||t.classList.add("hidden"),null===(e=a.paginationControls)||void 0===e||e.classList.add("hidden"),null===(n=a.emptyState)||void 0===n||n.classList.add("hidden"),null===(r=a.loadingIndicator)||void 0===r||r.classList.remove("hidden");var i=null===(o=a.loadingIndicator)||void 0===o?void 0:o.querySelector("div");i&&i.classList.add("loading-spinner")}},{key:"showEmptyState",value:function(t){var e,n,o,a=this,i={loadingIndicator:this.view.querySelector("#loadingIndicator"),scanResultsGrid:this.view.querySelector("#scanResultsGrid"),paginationControls:this.view.querySelector("#paginationControls"),emptyState:this.view.querySelector("#emptyState")};if(null===(e=i.loadingIndicator)||void 0===e||e.classList.add("hidden"),null===(n=i.scanResultsGrid)||void 0===n||n.classList.add("hidden"),null===(o=i.paginationControls)||void 0===o||o.classList.add("hidden"),i.emptyState){i.emptyState.classList.remove("hidden"),i.emptyState.innerHTML='\n                <div class="p-6 bg-gray-50 rounded-xl border border-gray-200">\n                    <div class="flex flex-col items-center text-center">\n                        <svg class="w-16 h-16 text-gray-400 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="animation: pulse 2s infinite">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12h6m-6 4h6m2 5H7a2 2 0 01-2-2V5a2 2 0 012-2h5.586a1 1 0 01.707.293l5.414 5.414a1 1 0 01.293.707V19a2 2 0 01-2 2z"/>\n                        </svg>\n                        <h3 class="text-xl font-semibold text-gray-700 mb-2">No Scan History</h3>\n                        <p class="text-gray-600 mb-4">'.concat(t,'</p>\n                        <button id="startFirstScanButton" class="btn-primary bg-teal-600 text-white px-6 py-2 rounded-lg hover:bg-teal-700">\n                            Start Your First Scan\n                        </button>\n                    </div>\n                </div>\n            ');var s=this.view.querySelector("#startFirstScanButton");null==s||s.addEventListener("click",(function(t){a.animateButtonClick(t.target),setTimeout((function(){return(0,r.navigateToUrl)("/dashboard")}),200)}))}}},{key:"showErrorState",value:function(t){var e,n,r,o=this,a={loadingIndicator:this.view.querySelector("#loadingIndicator"),scanResultsGrid:this.view.querySelector("#scanResultsGrid"),paginationControls:this.view.querySelector("#paginationControls"),emptyState:this.view.querySelector("#emptyState")};if(null===(e=a.loadingIndicator)||void 0===e||e.classList.add("hidden"),null===(n=a.scanResultsGrid)||void 0===n||n.classList.add("hidden"),null===(r=a.paginationControls)||void 0===r||r.classList.add("hidden"),a.emptyState){a.emptyState.classList.remove("hidden"),a.emptyState.innerHTML='\n                <div class="p-6 bg-red-50 rounded-xl border border-red-200" style="animation: fadeIn 0.8s ease-out">\n                    <div class="flex flex-col items-center text-center">\n                        <svg class="w-16 h-16 text-red-500 mb-4" fill="none" stroke="currentColor" viewBox="0 0 24 24" style="animation: pulse 2s infinite">\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"/>\n                        </svg>\n                        <h3 class="text-xl font-semibold text-red-700 mb-2">Failed to Load History</h3>\n                        <p class="text-gray-600 mb-4">'.concat(t,'</p>\n                        <button id="retryButton" class="btn-primary bg-teal-600 text-white px-6 py-2 rounded-lg hover:bg-teal-700">\n                            Try Again\n                        </button>\n                    </div>\n                </div>\n            ');var i=this.view.querySelector("#retryButton");null==i||i.addEventListener("click",(function(t){o.animateButtonClick(t.target),setTimeout((function(){return o.loadScanHistory()}),200)}))}}},{key:"showSuccessMessage",value:function(t){var e=document.createElement("div");e.className="fixed top-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50",e.style.animation="slideInRight 0.3s ease-out",e.textContent=t,document.body.appendChild(e),setTimeout((function(){e.style.animation="slideOutRight 0.3s ease-out",setTimeout((function(){return e.remove()}),300)}),3e3)}},{key:"addLoadingShimmer",value:function(){var t=this.view.querySelector("#scanResultsGrid");if(t){var e=Array.from({length:6},(function(t,e){return'\n                <div class="bg-white rounded-xl shadow-md overflow-hidden">\n                    <div class="h-40 bg-gray-200 loading-shimmer"></div>\n                    <div class="p-4">\n                        <div class="h-4 bg-gray-200 loading-shimmer rounded mb-2"></div>\n                        <div class="h-3 bg-gray-200 loading-shimmer rounded w-2/3"></div>\n                        <div class="flex gap-2 mt-2">\n                            <div class="h-6 w-16 bg-gray-200 loading-shimmer rounded-full"></div>\n                            <div class="h-6 w-20 bg-gray-200 loading-shimmer rounded-full"></div>\n                        </div>\n                    </div>\n                </div>\n            '})).join("");t.innerHTML=e,t.classList.remove("hidden")}}}],e&&h(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t;var t,e,n,a,i}();function y(t){return y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},y(t)}function g(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,m(r.key),r)}}function m(t){var e=function(t){if("object"!=y(t)||!t)return t;var e=t[Symbol.toPrimitive];if(void 0!==e){var n=e.call(t,"string");if("object"!=y(n))return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}(t);return"symbol"==y(e)?e:e+""}function b(t){var e="function"==typeof Map?new Map:void 0;return b=function(t){if(null===t||!function(t){try{return-1!==Function.toString.call(t).indexOf("[native code]")}catch(e){return"function"==typeof t}}(t))return t;if("function"!=typeof t)throw new TypeError("Super expression must either be null or a function");if(void 0!==e){if(e.has(t))return e.get(t);e.set(t,n)}function n(){return function(t,e,n){if(w())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var o=new(t.bind.apply(t,r));return n&&x(o,n.prototype),o}(t,arguments,S(this).constructor)}return n.prototype=Object.create(t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),x(n,t)},b(t)}function w(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(t){}return(w=function(){return!!t})()}function x(t,e){return x=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},x(t,e)}function S(t){return S=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(t){return t.__proto__||Object.getPrototypeOf(t)},S(t)}var k=function(t){function e(){var t;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(t=function(t,e,n){return e=S(e),function(t,e){if(e&&("object"==y(e)||"function"==typeof e))return e;if(void 0!==e)throw new TypeError("Derived constructors may only return object or undefined");return function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t)}(t,w()?Reflect.construct(e,n||[],S(t).constructor):e.apply(t,n))}(this,e)).presenter=null,t}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&x(t,e)}(e,t),n=e,(r=[{key:"connectedCallback",value:function(){this.render(),this.presenter=new v(this),this.presenter.init().catch((function(t){console.error("Failed to initialize history page:",t)}))}},{key:"disconnectedCallback",value:function(){this.presenter&&this.presenter.unsubscribeAuth&&this.presenter.unsubscribeAuth()}},{key:"render",value:function(){this.innerHTML='<style>\r\n    /* Enhanced animations and transitions */\r\n    .scan-card {\r\n        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n        opacity: 0;\r\n        transform: translateY(20px);\r\n        animation: slideInUp 0.6s ease-out forwards;\r\n    }\r\n\r\n    .scan-card:nth-child(2) {\r\n        animation-delay: 0.1s;\r\n    }\r\n\r\n    .scan-card:nth-child(3) {\r\n        animation-delay: 0.2s;\r\n    }\r\n\r\n    .scan-card:nth-child(4) {\r\n        animation-delay: 0.3s;\r\n    }\r\n\r\n    .scan-card:nth-child(5) {\r\n        animation-delay: 0.4s;\r\n    }\r\n\r\n    .scan-card:nth-child(6) {\r\n        animation-delay: 0.5s;\r\n    }\r\n\r\n    .scan-card:hover {\r\n        transform: translateY(-8px) scale(1.02);\r\n        box-shadow: 0 20px 40px rgba(0, 103, 122, 0.15);\r\n    }\r\n\r\n    .scan-card img {\r\n        transition: all 0.3s ease;\r\n    }\r\n\r\n    .scan-card:hover img {\r\n        transform: scale(1.05);\r\n    }\r\n\r\n    @keyframes slideInUp {\r\n        to {\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n        }\r\n    }\r\n\r\n    @keyframes fadeInDown {\r\n        from {\r\n            opacity: 0;\r\n            transform: translateY(-20px);\r\n        }\r\n\r\n        to {\r\n            opacity: 1;\r\n            transform: translateY(0);\r\n        }\r\n    }\r\n\r\n    @keyframes fadeIn {\r\n        from {\r\n            opacity: 0;\r\n        }\r\n\r\n        to {\r\n            opacity: 1;\r\n        }\r\n    }\r\n\r\n    @keyframes pulse {\r\n\r\n        0%,\r\n        100% {\r\n            transform: scale(1);\r\n        }\r\n\r\n        50% {\r\n            transform: scale(1.05);\r\n        }\r\n    }\r\n\r\n    @keyframes shimmer {\r\n        0% {\r\n            background-position: -200px 0;\r\n        }\r\n\r\n        100% {\r\n            background-position: calc(200px + 100%) 0;\r\n        }\r\n    }\r\n\r\n    .empty-state {\r\n        background: linear-gradient(135deg, #f0fdfa 0%, #e0f2fe 100%);\r\n        animation: fadeIn 0.8s ease-out;\r\n    }\r\n\r\n    .empty-state svg {\r\n        animation: pulse 2s infinite;\r\n    }\r\n\r\n    .loading-shimmer {\r\n        background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);\r\n        background-size: 200px 100%;\r\n        animation: shimmer 1.5s infinite;\r\n    }\r\n\r\n    .filter-controls {\r\n        animation: fadeInDown 0.6s ease-out;\r\n    }\r\n\r\n    .title-section {\r\n        animation: fadeInDown 0.5s ease-out;\r\n    }\r\n\r\n    .header-nav {\r\n        transition: all 0.3s ease;\r\n    }\r\n\r\n    .header-nav:hover {\r\n        transform: scale(1.05);\r\n    }\r\n\r\n    .btn-primary {\r\n        transition: all 0.3s cubic-bezier(0.4, 0, 0.2, 1);\r\n        position: relative;\r\n        overflow: hidden;\r\n    }\r\n\r\n    .btn-primary:before {\r\n        content: \'\';\r\n        position: absolute;\r\n        top: 0;\r\n        left: -100%;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: linear-gradient(90deg, transparent, rgba(255, 255, 255, 0.2), transparent);\r\n        transition: left 0.5s;\r\n    }\r\n\r\n    .btn-primary:hover:before {\r\n        left: 100%;\r\n    }\r\n\r\n    .btn-primary:hover {\r\n        transform: translateY(-2px);\r\n        box-shadow: 0 8px 25px rgba(0, 103, 122, 0.3);\r\n    }\r\n\r\n    .pagination-btn {\r\n        transition: all 0.3s ease;\r\n    }\r\n\r\n    .pagination-btn:hover:not(:disabled) {\r\n        transform: translateY(-2px);\r\n        box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);\r\n    }\r\n\r\n    .pagination-btn:disabled {\r\n        opacity: 0.5;\r\n        cursor: not-allowed;\r\n    }\r\n\r\n    .select-wrapper {\r\n        transition: all 0.3s ease;\r\n    }\r\n\r\n    .select-wrapper:hover {\r\n        transform: translateY(-1px);\r\n    }\r\n\r\n    .select-wrapper select:focus {\r\n        transform: scale(1.02);\r\n    }\r\n\r\n    .confidence-badge {\r\n        transition: all 0.3s ease;\r\n        animation: fadeIn 0.5s ease-out;\r\n    }\r\n\r\n    .recommendation-tag {\r\n        transition: all 0.2s ease;\r\n        animation: fadeIn 0.7s ease-out;\r\n    }\r\n\r\n    .recommendation-tag:hover {\r\n        transform: scale(1.05);\r\n    }\r\n\r\n    .grid-container {\r\n        animation: fadeIn 1s ease-out;\r\n    }\r\n\r\n    /* Loading spinner enhancement */\r\n    .loading-spinner {\r\n        animation: spin 1s linear infinite;\r\n    }\r\n\r\n    @keyframes spin {\r\n        from {\r\n            transform: rotate(0deg);\r\n        }\r\n\r\n        to {\r\n            transform: rotate(360deg);\r\n        }\r\n    }\r\n\r\n    /* Stagger animation for filter controls */\r\n    .filter-controls>div:first-child {\r\n        animation-delay: 0.1s;\r\n    }\r\n\r\n    .filter-controls>div:last-child {\r\n        animation-delay: 0.2s;\r\n    }\r\n\r\n    /* Hover effects for interactive elements */\r\n    .interactive-hover {\r\n        transition: all 0.2s ease;\r\n    }\r\n\r\n    .interactive-hover:hover {\r\n        transform: scale(1.02);\r\n    }\r\n\r\n    /* Date badge animation */\r\n    .date-badge {\r\n        transition: all 0.3s ease;\r\n        backdrop-filter: blur(8px);\r\n    }\r\n\r\n    .scan-card:hover .date-badge {\r\n        background: rgba(0, 0, 0, 0.7);\r\n    }\r\n</style>\r\n\r\n<div class="min-h-screen bg-gradient-to-b from-[#E5FFFB] to-white flex flex-col">\r\n    \x3c!-- Header --\x3e\r\n    <header class="bg-[#00667A] text-white py-4 px-6 flex justify-between items-center">\r\n        <div class="flex items-center space-x-2 header-nav">\r\n            <svg class="w-7 h-7 text-white" fill="currentColor" viewBox="0 0 24 24">\r\n                <path d="M12 21.35l-1.45-1.32C5.4 15.36 2 12.28 2 8.5 \r\n                    2 6 4 4 6.5 4c1.74 0 3.41 1.04 4.13 2.56h1.74\r\n                    C14.09 5.04 15.76 4 17.5 4 20 4 22 6 22 8.5\r\n                    c0 3.78-3.4 6.86-8.55 11.54L12 21.35z" />\r\n            </svg>\r\n            <span class="text-xl font-bold">AcureScan</span>\r\n        </div>\r\n        <button id="backButton"\r\n            class="flex items-center space-x-2 hover:bg-cyan-700 px-3 py-2 rounded transition-all duration-300 header-nav">\r\n            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r\n                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 19l-7-7m0 0l7-7m-7 7h18" />\r\n            </svg>\r\n            <span>Back</span>\r\n        </button>\r\n    </header>\r\n\r\n    <main class="flex-grow px-6 py-8">\r\n        <div class="max-w-6xl mx-auto">\r\n            \x3c!-- Title Section --\x3e\r\n            <div class="mb-8 title-section">\r\n                <h1 class="text-3xl font-bold text-teal-700 mb-2">Your Scan History</h1>\r\n                <p class="text-gray-600">Review your previous acne scan results</p>\r\n            </div>\r\n\r\n            \x3c!-- Filter Controls --\x3e\r\n            <div class="flex flex-wrap gap-4 mb-6 filter-controls">\r\n                <div class="relative flex-1 min-w-[200px] select-wrapper">\r\n                    <select id="filterType"\r\n                        class="appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 pr-8 w-full focus:outline-none focus:ring-2 focus:ring-teal-300 focus:border-teal-500 transition-all duration-300">\r\n                        <option value="all">All Acne Types</option>\r\n                        <option value="blackheads">Blackheads</option>\r\n                        <option value="cyst">Cyst</option>\r\n                        <option value="papules">Papules</option>\r\n                        <option value="pustules">Pustules</option>\r\n                        <option value="whiteheads">Whiteheads</option>\r\n                    </select>\r\n                    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">\r\n                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n\r\n                <div class="relative flex-1 min-w-[200px] select-wrapper">\r\n                    <select id="sortBy"\r\n                        class="appearance-none bg-white border border-gray-300 rounded-lg px-4 py-2 pr-8 w-full focus:outline-none focus:ring-2 focus:ring-teal-300 focus:border-teal-500 transition-all duration-300">\r\n                        <option value="newest">Newest First</option>\r\n                        <option value="oldest">Oldest First</option>\r\n                        <option value="confidence">Highest Confidence</option>\r\n                    </select>\r\n                    <div class="pointer-events-none absolute inset-y-0 right-0 flex items-center px-2 text-gray-700">\r\n                        <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">\r\n                            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />\r\n                        </svg>\r\n                    </div>\r\n                </div>\r\n            </div>\r\n\r\n            \x3c!-- Loading State --\x3e\r\n            <div id="loadingIndicator" class="text-center py-12">\r\n                <div class="inline-block loading-spinner rounded-full h-10 w-10 border-t-2 border-b-2 border-teal-600">\r\n                </div>\r\n                <p class="mt-4 text-gray-600">Loading your scan history...</p>\r\n            </div>\r\n\r\n            \x3c!-- Empty State --\x3e\r\n            <div id="emptyState" class="hidden empty-state rounded-xl p-8 text-center">\r\n                <h3 class="text-xl font-semibold text-gray-700 mb-2">No Scan History Yet</h3>\r\n                <p class="text-gray-600 mb-6">You haven\'t performed any scans yet. Start by uploading an image or using\r\n                    your camera.</p>\r\n                <button id="startScanButton"\r\n                    class="btn-primary bg-teal-600 text-white px-6 py-2 rounded-lg hover:bg-teal-700">\r\n                    Start Scanning\r\n                </button>\r\n            </div>\r\n\r\n            \x3c!-- Scan Results Grid --\x3e\r\n            <div id="scanResultsGrid"\r\n                class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6 hidden grid-container">\r\n                \x3c!-- Scan cards will be inserted here by JavaScript --\x3e\r\n            </div>\r\n\r\n            \x3c!-- Pagination Controls --\x3e\r\n            <div id="paginationControls" class="mt-8 flex justify-center items-center gap-4 hidden">\r\n                <button id="prevPageButton"\r\n                    class="pagination-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50">\r\n                    Previous\r\n                </button>\r\n                <span id="pageInfo" class="text-gray-600">Page 1 of 1</span>\r\n                <button id="nextPageButton"\r\n                    class="pagination-btn px-4 py-2 bg-gray-200 text-gray-700 rounded-lg hover:bg-gray-300 disabled:opacity-50">\r\n                    Next\r\n                </button>\r\n            </div>\r\n        </div>\r\n    </main>\r\n\r\n    \x3c!-- Footer --\x3e\r\n    <footer class="text-center text-gray-500 text-sm py-4">\r\n        © 2025 AcureScan. SkinCheck. All rights reserved.\r\n    </footer>\r\n</div>'}}])&&g(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),n;var n,r}(b(HTMLElement));customElements.define("history-page",k);const L=k}}]);